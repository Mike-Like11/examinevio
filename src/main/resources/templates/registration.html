<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <th:block th:include="general.html :: headerfiles"></th:block>
    <title>Title</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css" rel="stylesheet">
</head>
<body>
<header th:insert="general.html :: header"> </header>
<div class="container" style="margin-top: 10px; margin-bottom: 10px;">
    <div id = "app">
        <div class="registration-form">
        <form v-on:submit.prevent="addUser">
            <div class="form-icon">
                <span><i class="icon icon-user"></i></span>
            </div>
            <div class="form-group">
                <input type="text" v-model="username" class="form-control item" id="name" placeholder="ФИО">
            </div>
<!--            <div class="form-group">-->
<!--                <input type="text" class="form-control item" id="surname" placeholder="Фамилия">-->
<!--            </div>-->
            <div class="form-group">
                <input type="text" v-model="email" class="form-control item" id="email" placeholder="Почта">
            </div>
            <div class="form-group">
                <input type="password" v-model="password" class="form-control item" id="password" placeholder="Пароль">
            </div>
<!--            <div class="form-group">-->
<!--                <input type="text" class="form-control item" id="phone-number" placeholder="Университет">-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <input type="text" class="form-control item" id="birth-date" placeholder="Группа">-->
<!--            </div>-->
            <div class="form-group">
                <input type="submit" class="btn btn-block create-account" value="Зарегистрироваться">
            </div>
        </form>
        </div>
    </div>
    </div>
<script>
    window.app = new Vue({
        el: '#app',
        data: {
            username:'',
            password:'',
            email:''
        },
        mounted(){
            this.getInfo();
        },
        methods: {
            getInfo: function (event) {
                // axios
                //     .get("/tests/"+this.id)
                //     .then(response => {
                //         console.log(response.data.id.str)
                //         this.test = response.data;
                //         for(let i = 0; i < this.test.question_number; i++){
                //             this.options.push(i+1);
                //         }
                //     })
            },
            addUser: function (event) {
                axios
                    .post("/add_user", {
                        "email": this.email,
                        "username":this.username,
                        "password":this.password,
                        "UserRole":'STUDENT'
                    });
            }
        }
    })
</script>
</body>
</html>